library(ggplot2)
library(dplyr)
setwd("C:/Users/George Yang/parkmeetup/parksconserverancy-master")
setwd("C:/Users/George Yang/parkmeetup/parksconserverancy-master")
df <- read.csv('landsend_veg_2007_2012.csv')
df <- read.csv('landsend_veg_2007_2012.csv', stringsAsFactors = FALSE)
names(df) <- tolower(names(df))
df <- read.csv('landsend_veg_2007_2012.csv', stringsAsFactors = FALSE, na.strings = c('-',''))
names(df) <- tolower(names(df))
View(df)
str(df)
library(datacomb)
Datacomb(df)
summary(df)
View(df)
summary(df)
unique(df$species)
summary(df)
df <- df %>%
mutate(transect = as.factor(transect))
View(df)
mutate(transect = as.factor(transect), point = as.factor(point))
df <- df %>%
mutate(transect = as.factor(transect), point = as.factor(point))
summary(df)
unique(df)
str(df)
df$site.yearcode <- lapply(strsplit(as.charactar(df$site.yearcode),
"-", "[", 1))
df$site.yearcode <- lapply(strsplit(as.character(df$site.yearcode),
"-", "[", 1))
df$site.yearcode <- lapply(strsplit(as.character(df$site.yearcode),
"-"), "[", 1)
df$year <- lapply(strsplit(as.character(df$site.yearcode),
'-'), '[', 2)
df <- df %>% mutate(site.code = as.factor(unlist(site.code)),
year = as.factor(unlist(year)))
df <- df %>% mutate(site.code = as.factor(unlist(site.yearcode)),
year = as.factor(unlist(year)))
df$site.code <- lapply(strsplit(as.character(df$site.yearcode),
"-"), "[", 1)
df$year <- lapply(strsplit(as.character(df$site.yearcode),
'-'), '[', 2)
df <- df %>% mutate(site.code = as.factor(unlist(site.code)),
year = as.factor(unlist(year)))
View(df)
setwd("C:/Users/George Yang/parkmeetup/parksconserverancy-master")
df <- read.csv('landsend_veg_2007_2012.csv', stringsAsFactors = FALSE, na.strings = c('-',''))
names(df) <- tolower(names(df))
df <- df %>%
mutate(transect = as.factor(transect),
point = as.factor(point))
df$site.code <- lapply(strsplit(as.character(df$site.yearcode),
"-"), "[", 1)
df$year <- lapply(strsplit(as.character(df$site.yearcode),
'-'), '[', 2)
df <- df %>% mutate(site.code = as.factor(unlist(site.code)),
year = as.factor(unlist(year)))
View(df)
View(df)
library(tidyr)
View(df)
summary(df)
by_transect <- df %>% group_by(transect, year) %>% summarise(count_species = n_distinct(species))
View(by_transect)
View(by_transect)
ggplot(aes(x = year, y = count_species, color = transect), data = by_transect) %>% geom_line()
ggplot(aes(x = year, y = count_species), data = by_transect) %>% geom_line()
ggplot(aes(x = year, y = count_species), data = by_transect) + geom_line()
ggplot(aes(x = year, y = count_species, color = transect), data = by_transect) + geom_line()
View(by_transect)
View(by_transect)
summary(df)
View(by_transect)
by_transect <- df %>% group_by(site.code, year) %>% summarise(count_species = n_distinct(species))
View(by_transect)
ggplot(aes(x = year, y = count_species, color = transect), data = by_transect) + geom_line()
ggplot(aes(x = year, y = count_species, color = site.code), data = by_transect) + geom_line()
ggplot(aes(x = year, y = count_species, color = site.code), data = by_transect) + geom_bar()
ggplot(aes(x = year, y = count_species, color = site.code), data = by_transect) + geom_line()
ggplot(aes(x = site.code, y = count_species), data = by_transect) + geom_line()
ggplot(aes(x = site.code, y = count_species), data = by_transect) + geom_bar()
by_transect <- df %>% group_by(year, site.code) %>% summarise(count_species = n_distinct(species))
ggplot(aes(x = site.code, y = count_species), data = by_transect) + geom_bar()
View(by_transect)
ggplot(aes(x = site.code, y = count_species), data = by_transect) + geom_bar(stat='identity')
unique(df$species)
df <- df %>%
mutate(transect = as.factor(transect),
point = as.factor(point),
species_lower = tolower(species))
View(df)
df$species_lower[df$species_lower == 'anagalis arvensis'] <- 'anagallis arvensis'
unique[df$species_lower]
unique(df$species_lower)
unique(df$height)
df$height[df$height = 'L'] <- 'Low'
unique(df$height)
df$height[df$height == 'L'] <- 'Low'
unique(df$species_lower)
unique(df$height)
df$height[df$height == 'L '] <- 'Low'
unique(df$height)
df$height[df$height == 'M'] <- 'Medium'
unique(df$height)
df$height[df$height == 'H'] <- 'High'
unique(df$height)
df$height[df$height == 'SH'] <- 'Super High'
unique(df$height)
summary(df)
unique(df$species_lower)
df$species_lower[df$species_lower == 'gnaphalium luteo-album'] <- 'gnaphalium luteoalbum'
unique(df$species_lower)
str(df)
unique(df$species_lower)
df$species_lower[df$species_lower == 'ceanothus thrysiflorus'] <- 'ceanothus thyrsiflorus'
unique(df$species_lower)
df$species_lower[df$species_lower == 'anthriscus caucalis'] <- 'anthriscus cacaulis'
unique(df$species_lower)
df$species_lower[df$species_lower == 'marah fabaceous'] <- 'marah fabaceus'
unique(df$species_lower)
by_species <- df %>% group_by(species) %>% summarise(n=n())
View(by_species)
hist(by_species$n)
ggplot(aes(x=n), data = by_species)+geom_histogram()
ggplot(aes(x = site.code, y = count_species, fill = year), data = by_transect) + geom_bar(stat='identity')
ggplot(aes(x = site.code, y = count_species, fill = year), data = by_transect) + geom_bar(stat='identity', poisition = 'dodge')
by_site <- df %>% group_by(year, site.code) %>% summarise(count_species = n_distinct(species))
ggplot(aes(x = site.code, y = count_species, fill = year), data = by_site)
+ geom_bar(stat='identity', poisition = 'dodge')
ggplot(aes(x = site.code, y = count_species, fill = year), data = by_site)
+ geom_bar(stat='identity', position = 'dodge')
by_site <- df %>% group_by(year, site.code) %>% summarise(count_species = n_distinct(species))
View(by_site)
ggplot(aes(x = site.code, y = count_species, fill = year), data = by_site)
+ geom_bar(stat='identity', position = 'dodge')
by_species <- df %>% group_by(species) %>% summarise(n=n())
ggplot(aes(x=n), data = by_species)+geom_histogram()
by_species <- df %>% group_by(year, species) %>% summarise(n=n())
View(by_species)
ggplot(aes(x=n, color = species), data = by_species)+geom_histogram()
ggplot(aes(x = year, y = n, color = species), data = by_species)+geom_histogram()
ggplot(aes(x = year, y = n, color = species), data = by_species)+geom_bar()
ggplot(aes(x=n, color = species), data = by_species)+geom_histogram()
df <- df %>% mutate(site.code = as.character(unlist(site.code)),
year = as.character(unlist(year)))
by_species <- df %>% group_by(year, species) %>% summarise(n=n())
ggplot(aes(x=n, color = species), data = by_species)+geom_histogram()
df <- read.csv('cleaned_landsend_veg_2007_2012.csv', stringsAsFactors = FALSE)
View(df)
df <- read.csv('cleaned_landsend_veg_2007_2012.csv', stringsAsFactors = FALSE, na.strings = c('-',''))
View(df)
names(df) <- tolower(names(df))
df$species_lower[df$species_lower == 'anagalis arvensis'] <- 'anagallis arvensis'
df$species_lower[df$species_lower == 'gnaphalium luteo-album'] <- 'gnaphalium luteoalbum'
df$species_lower[df$species_lower == 'ceanothus thrysiflorus'] <- 'ceanothus thyrsiflorus'
df$species_lower[df$species_lower == 'anthriscus caucalis'] <- 'anthriscus cacaulis'
df$species_lower[df$species_lower == 'marah fabaceous'] <- 'marah fabaceus'
df <- df %>%
mutate(transect = as.factor(transect),
point = as.factor(point),
species_lower = tolower(species))
df$species_lower[df$species_lower == 'anagalis arvensis'] <- 'anagallis arvensis'
df$species_lower[df$species_lower == 'gnaphalium luteo-album'] <- 'gnaphalium luteoalbum'
df$species_lower[df$species_lower == 'ceanothus thrysiflorus'] <- 'ceanothus thyrsiflorus'
df$species_lower[df$species_lower == 'anthriscus caucalis'] <- 'anthriscus cacaulis'
df$species_lower[df$species_lower == 'marah fabaceous'] <- 'marah fabaceus'
df$height[df$height == 'L'] <- 'Low'
df$height[df$height == 'L '] <- 'Low'
df$height[df$height == 'M'] <- 'Medium'
df$height[df$height == 'H'] <- 'High'
df$height[df$height == 'SH'] <- 'Super High'
df <- read.csv('cleaned_landsend_veg_2007_2012.csv', stringsAsFactors = FALSE, na.strings = c('-',''))
names(df) <- tolower(names(df))
df <- df %>%
mutate(transect = as.factor(transect),
point = as.factor(point),
species_lower = tolower(species))
df$height[df$height == 'L'] <- 'Low'
df$height[df$height == 'L '] <- 'Low'
df$height[df$height == 'M'] <- 'Medium'
df$height[df$height == 'H'] <- 'High'
df$height[df$height == 'SH'] <- 'Super_High'
df$species_lower[df$species_lower == 'anagalis arvensis'] <- 'anagallis arvensis'
df$species_lower[df$species_lower == 'gnaphalium luteo-album'] <- 'gnaphalium luteoalbum'
df$species_lower[df$species_lower == 'ceanothus thrysiflorus'] <- 'ceanothus thyrsiflorus'
df$species_lower[df$species_lower == 'anthriscus caucalis'] <- 'anthriscus cacaulis'
df$species_lower[df$species_lower == 'marah fabaceous'] <- 'marah fabaceus'
df <- separate(data  = df, col = site.yearcode, into = c('site', 'year'))
df <- separate(data  = df, col = site.yearcode, into = c("site", "year"))
View(df)
df <- separate(data  = df, col = site_year_code, into = c("site", "year"))
View(df)
by_site <- df %>% group_by(year, site.code) %>% summarise(count_species = n_distinct(species))
ggplot(aes(x = site.code, y = count_species, fill = year), data = by_site)
+ geom_bar(stat='identity', position = 'dodge')
by_site <- df %>% group_by(year, site.code) %>% summarise(count_species = n_distinct(species))
View(by_site)
table(df$year)
by_site <- df %>% group_by(year, site.code) %>% summarise(count_species = n_distinct(species))
by_site <- df %>% group_by(year, site) %>% summarise(count_species = n_distinct(species))
ggplot(aes(x = site, y = count_species, fill = year), data = by_site) +
geom_bar(stat='identity', position = 'dodge')
by_species <- df %>% group_by(year, species) %>% summarise(n=n())
ggplot(aes(x=n, color = species), data = by_species)+geom_histogram()
by_species <- df %>% group_by(year, lower_species) %>% summarise(n=n())
by_species <- df %>% group_by(year, species_lower) %>% summarise(n=n())
ggplot(aes(x=n, color = species_lower), data = by_species)+geom_histogram()
ggplot(aes(x = n, y = year), data = by_species[by_species$species_lower == 'hordeum sp.'])
ggplot(aes(x = n, y = year), data = by_species[by_species$species_lower == 'hordeum sp.'])+geom_line()
ggplot(aes(x = n, y = year), data = by_species[by_species$species_lower == 'hordeum sp.',])+geom_line()
ggplot(aes(x = year, y = n), data = by_species[by_species$species_lower == 'hordeum sp.',])+geom_line()
by_species <- df %>% group_by(year, species_lower) %>% summarise(n=n())
ggplot(aes(x=n, color = species_lower), data = by_species)+geom_histogram()
colnames(df)
by_species <- df %>% group_by(year, transect) %>% summarise(n=n())
ggplot(aes(x=n, color = transect), data = by_species)+geom_histogram()
by_species <- df %>% group_by(year, plant_code) %>% summarise(n=n())
ggplot(aes(x=n, color = plant_code), data = by_species)+geom_histogram()
ggplot(aes(x = site, y = plant_code, fill = year), data = by_species) +
geom_bar(stat='identity', position = 'dodge')
ggplot(aes(x = year, y = plant_code, fill = year), data = by_species) +
geom_bar(stat='identity', position = 'dodge')
by_annual <- df %>% group_by(yelife_history) %>% summarise(n=n())
by_annual <- df %>% group_by(year, life_history) %>% summarise(n=n())
View(by_annual)
View(df)
ggplot(aes(x = year, y = life_history, fill = year), data = by_annual) +
geom_bar(stat='identity', position = 'dodge')
ggplot(aes(x = year, y = life_history, fill = year), data = by_annual) +
geom_histogram(stat='identity', position = 'dodge')
ggplot(aes(x = year, y = life_history, fill = year), data = by_annual) +
geom_histogram(stat='identity', position = 'dodge')
View(df)
df <- read.csv('cleaned_landsend_veg_2007_2012.csv', stringsAsFactors = FALSE, na.strings = c('-',''))
names(df) <- tolower(names(df))
summary(df)
df <- df %>%
mutate(transect = as.factor(transect),
point = as.factor(point),
species_lower = tolower(species))
df$height[df$height == 'L'] <- 'Low'
df$height[df$height == 'L '] <- 'Low'
df$height[df$height == 'M'] <- 'Medium'
df$height[df$height == 'H'] <- 'High'
df$height[df$height == 'SH'] <- 'Super_High'
View(df)
unique(df$species_lower)
unique(df$height)
df$species_lower[df$species_lower == 'anagalis arvensis'] <- 'anagallis arvensis'
df$species_lower[df$species_lower == 'gnaphalium luteo-album'] <- 'gnaphalium luteoalbum'
df$species_lower[df$species_lower == 'ceanothus thrysiflorus'] <- 'ceanothus thyrsiflorus'
df$species_lower[df$species_lower == 'anthriscus caucalis'] <- 'anthriscus cacaulis'
df$species_lower[df$species_lower == 'marah fabaceous'] <- 'marah fabaceus'
df <- separate(data  = df, col = site_year_code, into = c("site", "year"))
View(df)
df.orig <- read.csv('landsend_veg_2007_2012.csv', stringsAsFactors = FALSE, na.strings = c('-',''))
View(df)
df <- df[!is.na(df$native_status),]
View(df)
View(df.orig)
df <- read.csv('cleaned_landsend_veg_2007_2012.csv', stringsAsFactors = FALSE, na.strings = c('-',''))
names(df) <- tolower(names(df))
df.orig <- read.csv('landsend_veg_2007_2012.csv', stringsAsFactors = FALSE, na.strings = c('-',''))
df <- read.csv('cleaned_landsend_veg_2007_2012.csv', stringsAsFactors = FALSE, na.strings = c('-',''))
names(df) <- tolower(names(df))
df <- df %>%
mutate(transect = as.factor(transect),
point = as.factor(point),
species_lower = tolower(species))
df$height[df$height == 'L'] <- 'Low'
df$height[df$height == 'L '] <- 'Low'
df$height[df$height == 'M'] <- 'Medium'
df$height[df$height == 'H'] <- 'High'
df$height[df$height == 'SH'] <- 'Super_High'
df$species_lower[df$species_lower == 'anagalis arvensis'] <- 'anagallis arvensis'
df$species_lower[df$species_lower == 'gnaphalium luteo-album'] <- 'gnaphalium luteoalbum'
df$species_lower[df$species_lower == 'ceanothus thrysiflorus'] <- 'ceanothus thyrsiflorus'
df$species_lower[df$species_lower == 'anthriscus caucalis'] <- 'anthriscus cacaulis'
df$species_lower[df$species_lower == 'marah fabaceous'] <- 'marah fabaceus'
df <- separate(data  = df, col = site_year_code, into = c("site", "year"))
by_site <- df %>% group_by(year, site) %>% summarise(count_species = n_distinct(species))
ggplot(aes(x = site, y = count_species, fill = year), data = by_site) +
geom_bar(stat='identity', position = 'dodge')
table(df$year)
View(df)
df <- read.csv('landsend_veg_2007_2012.csv', stringsAsFactors = FALSE, na.strings = c('-',''))
names(df) <- tolower(names(df))
df <- df %>%
mutate(transect = as.factor(transect),
point = as.factor(point),
species_lower = tolower(species))
df$height[df$height == 'L'] <- 'Low'
df$height[df$height == 'L '] <- 'Low'
df$height[df$height == 'M'] <- 'Medium'
df$height[df$height == 'H'] <- 'High'
df$height[df$height == 'SH'] <- 'Super_High'
unique(df$species_lower)
unique(df$height)
df$species_lower[df$species_lower == 'anagalis arvensis'] <- 'anagallis arvensis'
df$species_lower[df$species_lower == 'gnaphalium luteo-album'] <- 'gnaphalium luteoalbum'
df$species_lower[df$species_lower == 'ceanothus thrysiflorus'] <- 'ceanothus thyrsiflorus'
df$species_lower[df$species_lower == 'anthriscus caucalis'] <- 'anthriscus cacaulis'
df$species_lower[df$species_lower == 'marah fabaceous'] <- 'marah fabaceus'
df <- separate(data  = df, col = site_year_code, into = c("site", "year"))
View(df)
df <- separate(data  = df, col = site.yearcode, into = c("site", "year"))
table(df$year)
df <- read.csv('cleaned_landsend_veg_2007_2012.csv', stringsAsFactors = FALSE, na.strings = c('-',''))
names(df) <- tolower(names(df))
df <- df %>%
mutate(transect = as.factor(transect),
point = as.factor(point),
species_lower = tolower(species))
df$height[df$height == 'L'] <- 'Low'
df$height[df$height == 'L '] <- 'Low'
df$height[df$height == 'M'] <- 'Medium'
df$height[df$height == 'H'] <- 'High'
df$height[df$height == 'SH'] <- 'Super_High'
df$species_lower[df$species_lower == 'anagalis arvensis'] <- 'anagallis arvensis'
df$species_lower[df$species_lower == 'gnaphalium luteo-album'] <- 'gnaphalium luteoalbum'
df$species_lower[df$species_lower == 'ceanothus thrysiflorus'] <- 'ceanothus thyrsiflorus'
df$species_lower[df$species_lower == 'anthriscus caucalis'] <- 'anthriscus cacaulis'
df$species_lower[df$species_lower == 'marah fabaceous'] <- 'marah fabaceus'
df <- separate(data  = df, col = site_year_code, into = c("site", "year"))
by_site <- df %>% group_by(year, site) %>% summarise(count_species = n_distinct(species))
ggplot(aes(x = site, y = count_species, fill = year), data = by_site) +
geom_bar(stat='identity', position = 'dodge')
by_species <- df %>% group_by(year, plant_code) %>% summarise(n=n())
by_annual <- df %>% group_by(year, life_history) %>% summarise(n=n())
ggplot(aes(x=n, color = plant_code), data = by_species)+geom_histogram()
ggplot(aes(x = year, y = plant_code, fill = year), data = by_species) +
geom_bar(stat='identity', position = 'dodge')
View(by_species)
ggplot(aes(x = year, y = plant_code), data = by_species) +
geom_line()
unique(by_species$plant_code)
ggplot(aes(x = year, y = plant_code), data = by_species[by_species =='ABLA']) +
geom_line()
ggplot(aes(x = year, y = plant_code), data = by_species[by_species =='ABLA',]) +
geom_line()
ggplot(aes(x = year, y = n), data = by_species[by_species =='ABLA',]) +
geom_line()
by_species[by_species =='ABLA',]
by_species
ggplot(aes(x = year, y = n), data = by_species[,by_species =='ABLA']) +
geom_line()
by_species[,by_species =='ABLA']
by_species[by_species =='ABLA',]
ggplot(aes(x = year, y = n), data = by_species[by_species$plant_code =='ABLA',]) +
geom_line()
by_species[by_species$plant_code =='ABLA',]
str(by_species)
by_species$year <- as.integer(by_species$year)
ggplot(aes(x = year, y = n), data = by_species[by_species$plant_code =='ABLA',]) +
geom_line()
filter(by_species, plant_code == 'ALBA')
filter(by_species, plant_code == ALBA)
filter(by_species, plant_code == 'ALBA')
unique(by_species$plant_code)
filter(by_species, plant_code == 'ALBA' | plant_code == 'AMCH')
filter(by_species, plant_code == 'ABLA' | plant_code == 'AMCH')
by_species_select <- filter(by_species, plant_code == 'ABLA' | plant_code == 'AMCH')
ggplot(aes(x = year, y = n), data = by_species_select) +
geom_line()
ggplot(aes(x = year, y = n, color = plant_code), data = by_species_select) +
geom_line()
unique(by_species$plant_code)
by_species_select <- filter(by_species, plant_code == 'ABLA' | plant_code == 'LOSP')
ggplot(aes(x = year, y = n, color = plant_code), data = by_species_select) +
geom_line()
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
summary(df)
by_native <- df %>% group_by(year, native_status) %>% summarise(n = n())
View(by_native)
ggplot(aes(x=year, y = n, ), data = by_native)+geom_bar()
View(by_native)
ggplot(aes(x=year, y = n, color = native_status), data = by_native)+geom_bar()
ggplot(aes(x=year, y = n, color = native_status), data = by_native)+geom_bar()
ggplot(aes(x=year, y = n, color = native_status), data = by_native)+geom_bar(stat = 'identity')
ggplot(aes(x=year, y = n, fill = native_status), data = by_native)+geom_bar(stat = 'identity')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
colnames(df)
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
View(by_native)
by_native <- df %>% group_by(year, native_status) %>% summarise(n = n())
ggplot(aes(x=year, y = n, fill = native_status), data = by_native)+geom_bar(stat = 'identity')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
by_native <- df %>% group_by(year, native_status) %>% summarise(n = n())
ggplot(aes(x=year, y = n, fill = native_status), data = by_native)+geom_bar(stat = 'identity')
colnames(df)
by_native <- df %>% group_by(year, height) %>% summarise(n = n())
ggplot(aes(x=year, y = n, fill = height), data = by_native)+geom_bar(stat = 'identity')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
by_native <- df %>% group_by(year, native_status) %>% summarise(n = n())
View(by_native)
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
by_native <- df %>% group_by(year, height) %>% summarise(n = n())
ggplot(aes(x=year, y = n, fill = height), data = by_native)+geom_bar(stat = 'identity')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
summary(df)
View(df)
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
shiny::runApp('project')
