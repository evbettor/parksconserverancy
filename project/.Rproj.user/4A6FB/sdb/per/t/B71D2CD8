{
    "contents" : "library(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\n\nsetwd(\"C:/Users/George Yang/parkmeetup/parksconserverancy-master\")\ndf <- read.csv('cleaned_landsend_veg_2007_2012.csv', stringsAsFactors = FALSE, na.strings = c('-',''))\nnames(df) <- tolower(names(df))\n##add rows\ndf <- df %>% \n  mutate(transect = as.factor(transect),\n         point = as.factor(point), \n         species_lower = tolower(species))\n##clean data\ndf$height[df$height == 'L'] <- 'Low'\ndf$height[df$height == 'L '] <- 'Low'\ndf$height[df$height == 'M'] <- 'Medium'\ndf$height[df$height == 'H'] <- 'High'\ndf$height[df$height == 'SH'] <- 'Super_High'\n\ndf$species_lower[df$species_lower == 'anagalis arvensis'] <- 'anagallis arvensis'\ndf$species_lower[df$species_lower == 'gnaphalium luteo-album'] <- 'gnaphalium luteoalbum'\ndf$species_lower[df$species_lower == 'ceanothus thrysiflorus'] <- 'ceanothus thyrsiflorus'\ndf$species_lower[df$species_lower == 'anthriscus caucalis'] <- 'anthriscus cacaulis'\ndf$species_lower[df$species_lower == 'marah fabaceous'] <- 'marah fabaceus'\ndf <- separate(data  = df, col = site_year_code, into = c(\"site\", \"year\"))\n\nshinyServer(function(input, output) {\n  plotcat <- reactive({\n    \n    by_native <- df %>% group_by(year, native_status) %>% summarise(n = n())\n    \n    \n  })\n  \n  plotheight <- reactive({\n    \n    by_native <- df %>% group_by(year, height) %>% summarise(n = n())\n    \n    \n  })\n  \n  plotlife <- reactive({\n    \n    by_native <- df %>% group_by(year, life_history) %>% summarise(n = n())\n    \n    \n  })\n  \n  \n  ###output\n  output$plant_code_plot <- renderPlot ({\n    by_species <- df %>% group_by(year, plant_code) %>% summarise(n=n())\n    by_species$year <- as.integer(by_species$year)\n    by_species_select <- filter(by_species, plant_code == input$plant_code |\n                                plant_code == input$plant_code2)\n    \n    \n    print(ggplot(aes(x = year, y = n, color = plant_code), data = by_species_select) +\n            geom_line(size =2))\n  })\n \n  ###output\n  output$species_plot <- renderPlot ({\n    by_species <- df %>% group_by(year, species_lower) %>% summarise(n=n())\n    by_species$year <- as.integer(by_species$year)\n    by_species_select <- filter(by_species, species_lower == input$species |\n                                  species_lower == input$species2)\n    \n    \n    print(ggplot(aes(x = year, y = n, color = species_lower), data = by_species_select) +\n            geom_line(size = 2))\n  })\n  \n   \n  output$cat_plot <- renderPlot ({\n    print(ggplot(aes(x= year, y = n, fill = native_status), \n                 data = plotcat())\n          +geom_bar(stat = 'identity'))\n  })\n  \n  output$height_plot <- renderPlot ({\n    print(ggplot(aes(x= year, y = n, fill = height), \n                 data = plotheight())\n          +geom_bar(stat = 'identity'))\n  })\n  \n  output$life_plot <- renderPlot ({\n    print(ggplot(aes(x= year, y = n, fill = life_history), \n                 data = plotlife())\n          +geom_bar(stat = 'identity'))\n  })\n  \n  \n})\n",
    "created" : 1453582889750.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3914405814",
    "id" : "B71D2CD8",
    "lastKnownWriteTime" : 1453594100,
    "path" : "C:/Users/George Yang/parkmeetup/parksconserverancy-master/project/server.R",
    "project_path" : "server.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 7,
    "source_on_save" : false,
    "type" : "r_source"
}